<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>ECE 5160 Shuchang Wen</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Bootstrap Icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic" rel="stylesheet" type="text/css" />
        <!-- SimpleLightbox plugin CSS-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <!-- code highlight -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
        <!-- and it's easy to individually load additional languages -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/go.min.js"></script>
        <script>hljs.highlightAll();</script>






    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="#page-top">Shuchang Wen ECE 5160</a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto my-2 my-lg-0">
                        <li class="nav-item"><a class="nav-link" href="#about">About</a></li>
                        <li class="nav-item"><a class="nav-link" href="#portfolio">Projects</a></li>
                        <!-- <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li> -->
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container px-4 px-lg-5 h-100">
                <div class="row gx-4 gx-lg-5 h-100 align-items-center justify-content-center text-center">
                    <div class="col-lg-8 align-self-end">
                        <h1 class="text-white font-weight-bold">ECE 5160: Fast Robots</h1>
                        <hr class="divider" />
                    </div>
                    <div class="col-lg-8 align-self-baseline">
                        <p class="text-white-75 mb-5">This web serves to document lab projects in ECE 5160 (Spring 2025).</p>
                        <a class="btn btn-primary btn-xl" href="#about">Find Out More</a>
                    </div>
                </div>
            </div>
        </header>
        <!-- About-->
        <section class="page-section bg-primary" id="about">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8 text-center">
                        <img src="assets/img/photo.jpg" class="img-fluid rounded-circle mb-4" alt="Shuchang Wen" width="200">
                        <h2 class="text-white mt-0">ABOUT</h2>
                        <hr class="divider divider-light" />
                        <p class="text-white-75 mb-4">Hello! I’m Shuchang Wen (温书畅), currently an MEng student in Cornell’s ECE program. Welcome to my ECE 5160 project website, where I’ll document how I tackled each lab and ultimately built a fast, autonomous robot for the course “Fast Robots.” Here, you’ll find my reports, insights, and step-by-step progress as I explore sensor integration, dynamic controls, and the balance between on-board and off-board computation. I hope this site serves as both a personal portfolio and a resource for anyone excited about designing and implementing high-speed autonomous systems.</p>
                        <a class="btn btn-light btn-xl" href="#services">Get Started!</a>
                    </div>
                </div>
            </div>
        </section>
        <!-- Services-->
        <!-- <section class="page-section" id="services">
            <div class="container px-4 px-lg-5">
                <h2 class="text-center mt-0">At Your Service</h2>
                <hr class="divider" />
                <div class="row gx-4 gx-lg-5">
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-gem fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Sturdy Themes</h3>
                            <p class="text-muted mb-0">Our themes are updated regularly to keep them bug free!</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-laptop fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Up to Date</h3>
                            <p class="text-muted mb-0">All dependencies are kept current to keep things fresh.</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-globe fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Ready to Publish</h3>
                            <p class="text-muted mb-0">You can use this design as is, or you can make changes!</p>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <div class="mb-2"><i class="bi-heart fs-1 text-primary"></i></div>
                            <h3 class="h4 mb-2">Made with Love</h3>
                            <p class="text-muted mb-0">Is it really open source if it's not made with love?</p>
                        </div>
                    </div>
                </div>
            </div>
        </section> -->
        <!-- Portfolio-->
        <div id="portfolio">
            <div class="container-fluid p-0">
                <div class="row g-0">
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/pic1.png" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">LAB 1</div>
                                <div class="project-name">The Artemis board and Bluetooth</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab2Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/pic2.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">LAB 2</div>
                                <div class="project-name">IMU</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab3Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/pic3.png" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Lab 3</div>
                                <div class="project-name">Time of Flight Sensors</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab4Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/pic4.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Lab 4</div>
                                <div class="project-name">Motors and Open Loop Control</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/5.jpg" title="P Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/5.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" href="assets/img/portfolio/fullsize/6.jpg" title="Project Name">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/6.jpg" alt="..." />
                            <div class="portfolio-box-caption p-3">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                    <div class="col-lg-4 col-sm-6">
                        <a class="portfolio-box" data-bs-toggle="modal" data-bs-target="#lab1Modal">
                            <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
                            <div class="portfolio-box-caption">
                                <div class="project-category text-white-50">Category</div>
                                <div class="project-name">Project Name</div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <!-- Call to action-->
        <!-- <section class="page-section bg-dark text-white">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="mb-4">Free Download at Start Bootstrap!</h2>
                <a class="btn btn-light btn-xl" href="https://startbootstrap.com/theme/creative/">Download Now!</a>
            </div>
        </section> -->
        <!-- Contact-->


                <!-- Here is the code for LAB 1 report -->
        <div class="modal fade" id="lab1Modal" tabindex="-1" aria-labelledby="lab1ModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content border-0 shadow">

                    <!-- Modal 头部 -->
                    <div class="modal-header bg-light">
                        <h5 class="modal-title fw-bold" id="lab1ModalLabel">Lab 1 Report</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Modal 主体：通过 p-4 增加内边距，max-height: 80vh 和 overflow-y: auto 用于可滚动 -->
                    <div class="modal-body p-4" style="max-height: 80vh; overflow-y: auto;">

                        <!-- 可以在内部再包一层容器，便于统一排版 -->
                        <div class="container-fluid">

                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 1: The Artemis board and Bluetooth</h2>
                            <p class="text-justify">
                                The main goal of LAB 1 is to set up and familiarize myself with the Arduino IDE and the Artemis development board.
                            </p>
                            <p class="text-justify">
                                In <strong>Lab 1A</strong>, I programmed the development board, experimented with controlling the onboard LED, read and wrote serial messages via USB, and utilized the onboard temperature sensor and pulse density microphone. Additionally, I completed the additional tasks for 5000-level students.
                            </p>
                            <p class="text-justify">
                                In <strong>Lab 1B</strong>, I built communication between the computer and the Artemis board via Bluetooth.
                                Also, I implemented the ECHO command, SEND_THREE_FLOATS command, GET_TIME_MILLIS command, and a total of eight tasks. Additionally, I analyzed the communication performance.
                            </p>
                            <!-- 图片示例区域 -->
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-4">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/ArtemisNano.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-4">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/USB.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                
                                </div>
                                
                                <!-- 图片下方的文字说明 -->
                                <p class="text-center mt-3">
                                Parts Required: 1 x SparkFun RedBoard Artemis Nano and 1 x USB cable
                                </p>
                            </div>
                            

                            <hr class="my-4"/><!-- 分割线 -->
                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 1A part</h2>
                            <h4 class="text-center mb-4">Prelab</h4>
                            <p class="text-justify">
                                In the prelab, I downloaded and installed the latest Arduino IDE. 
                                I also added the 
                                <a href="https://learn.sparkfun.com/tutorials/artemis-development-with-the-arduino-ide/setting-up-the-arduino-ide" target="_blank">
                                    JSON link
                                </a> 
                                to the Arduino settings (as shown in the image below).
                            </p>
                            <!-- 图片区容器 -->                       
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                    <!-- 让列占满全宽 -->
                                    <div class="col-12">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <!-- 去掉 max-height，改为 width: 100% -->
                                        <img src="assets/img/lab1/lab1a/prelab.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">Task1</h4>
                            <p>

                                In Task 1, I connected the Artemis development board to my computer and selected the correct board and port in the Arduino IDE.

                            </p>
                            <p>
                                However, I found that two ports with the name RedBoard Artemis Nano appeared. To enable data transmission via USB, we need to select the first port (/dev/cu.usbserial-120).
                            </p>
                            </p>
                            
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                  <!-- 在中等及以上屏幕占 8/12，居中显示 -->
                                  <div class="col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                      <img src="assets/img/lab1/lab1a/port.png" 
                                           class="img-fluid rounded" 
                                           style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                  </div>
                                </div>
                              </div>                              
                            
                            
                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">Task2: Testing Blink</h4>
                            <p>

                                In Task 2, I uploaded the 01.Basics code to my Artemis board and ran it. The process completed without any errors, and the blue LED on the Artemis started blinking, indicating that the board model and port I selected in the prelab were correct.

                            </p>
                            <p>
                                Then, I changed the delay in the code from 1000 to 500, uploaded it again, and observed that the blue LED on the Artemis blinked faster.
                            </p>
                            <div class="ratio ratio-16x9 mb-3">
                                <iframe
                                  src="https://www.youtube.com/embed/uAaCQfrzwYk"
                                  title="YouTube video"
                                  allowfullscreen>
                                </iframe>
                              </div>
                              
                              
                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">Task3: Testing Example4_Serial</h4>
                            <p>
                                In Task 3, I uploaded and ran the Example4_Serial code on my Artemis board. The process completed without any errors. However, when I checked the serial monitor, I noticed <strong>garbled text</strong>.
                            </p>                            
                            
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                  <div class="col-md-12">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                      <img src="assets/img/lab1/lab1a/T3.png" 
                                           class="img-fluid rounded" 
                                           style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                  </div>
                                </div>
                            </div>    
                            
                            <p>
                                I realized that the <strong>baud rate</strong> in Example4_Serial was set to <strong>9600</strong>, while the serial monitor was set to <strong>38400</strong>, causing a mismatch—essentially, "the Artemis was speaking a language my computer couldn't understand." After setting both baud rates to the same value, everything worked correctly.
                            </p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                  <div class="col-md-12">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                      <img src="assets/img/lab1/lab1a/T3success.png" 
                                           class="img-fluid rounded" 
                                           style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                  </div>
                                </div>
                            </div>    
    

                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">Task4: Testing temperature sensor</h4>
                            <p>
                                In Task 4, I uploaded the Example2_analogRead code to the Artemis board. I tried blowing air onto the Artemis, and I observed that the temperature values in the output increased accordingly.
                            </p>                            
                            <p>
                                I also try to use <strong>getTempDegF() Function</strong> to get the die temperature in deg F. Below is a screenshot of the serial monitor output while running the code.
                            </p>
                            
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                  <div class="col-md-12">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                      <img src="assets/img/lab1/lab1a/T4.png" 
                                           class="img-fluid rounded" 
                                           style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                  </div>
                                </div>
                            </div> 
                            
                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">Task5: Testing microphone</h4>
                            <p>
                                In Task 5, I tested the microphone on the Artemis board using the Example1_MicrophoneOutput code.
                            </p>
                            
                            <div class="ratio ratio-16x9 mb-3">
                                <iframe
                                  src="https://www.youtube.com/embed/MoO7SMZ1o8g"
                                  title="YouTube video"
                                  allowfullscreen>
                                </iframe>
                              </div>
                              
                              
                              <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                              <h4 class="text-center mb-4">5000-level Additional tasks: play a musical “C” and blink the light </h4>
                              <p>
                                In the additional task, my main goal was to make the blue LED on the Artemis light up when musical C is played and turn off when the sound stops.
                              </p>
                              
                              <p>
                                After multiple tests, I found that the frequency of musical C was 526 Hz. So, I modified the Example1_MicrophoneOutput file by adding the following code and uploaded it to the Artemis.
                              </p>
                              
                              <pre><code class="language-c">
ui32LoudestFrequency = (sampleFreq * ui32MaxIndex) / pdmDataBufferSize;
if (ui32LoudestFrequency >= 524 && ui32LoudestFrequency <= 527)
{
    digitalWrite(LED_BUILTIN, HIGH);  // turn the LED on (HIGH is the voltage level)
    Serial.println("turn the light on");
}else{
    digitalWrite(LED_BUILTIN, LOW);   // turn the LED off by making the voltage LOW
    Serial.println("turn the light off");
}
                                </code></pre>
                                <p>
                                    To avoid interference from background noise, I set the LED to turn on only when the detected frequency was within the 524–527 Hz range. Finally, I successfully achieved my task objective.
                                </p>
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                      src="https://www.youtube.com/embed/3HO8Dtj66tU"
                                      title="YouTube video"
                                      allowfullscreen>
                                    </iframe>
                                  </div>
                                
                            <hr class="my-4"/>

                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 1B part</h2>
                            <h4 class="text-center mb-4">Prelab and Computer Setup</h4>
                            <p class="text-justify">
                                Before starting the tasks in Lab 1B, I needed to download Python, create a virtual environment, and activate it.
                            </p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/setup1.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/setup2.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                
                                </div>
                            </div>

                            <p>
                                The next and most important step was properly configuring BLE (Bluetooth Low Energy) communication to ensure a stable connection between my computer and the Artemis development board.
                            </p>
                            <p>
                                To achieve this, I needed to change the Artemis's MAC address and generate a new UUID.
                                
                                The purpose of this step was to ensure that my Artemis board had a unique BLE identifier (determined by its MAC address and UUID) and to prevent accidental BLE connections to the wrong device.
                            </p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-4">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/MAC.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-4">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/UUID.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                
                                </div>
                                
                                <!-- 图片下方的文字说明 -->
                                <p class="text-center mt-3">
                                These two screenshots show the files that I change the MAC and UUID of my Artemis.
                                </p>
                            </div>

                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">Task1: ECHO Command</h4>
                            <p>

                                In Task 1, I implemented the ECHO command, which sends a string from the computer to the Artemis board and then receives the same string back.
                            </p>
                            <p>
                                Inspired by the <strong>PING command</strong>, my strategy was to first store the received string 
                                in an array using <strong><em>tx_estring_value.append</em></strong>, 
                                and then send it back to the computer using 
                                <strong><em>tx_characteristic_string.writeValue</em></strong>.
                            </p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                  <!-- 在中等及以上屏幕占 8/12，居中显示 -->
                                  <div class="col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                      <img src="assets/img/lab1/lab1b/T1A.png" 
                                           class="img-fluid rounded" 
                                           style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                  </div>
                                </div>
                                <p class="text-center mt-3">
                                    the Artemis-side code for Task 1 (ECHO command)
                                    </p>
                              </div>     

                              <p>
                                From the two screenshots below, we can see that my computer successfully received the message <strong><em>"Robot says -> Hihello:)"</em></strong>.

                                Additionally, the expected prompt was correctly printed on the serial monitor of the Artemis board.
                              </p>

                              <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/T1AR.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/T1JR.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                </div>
                                </div>


                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task2: SEND_THREE_FLOATS</h4>
                                <p>
                                    The main goal of Task 3 was to implement the SEND_THREE_FLOATS command, which sends three floating-point numbers to the Artemis board and prints them on the Artemis side.
                                </p>
                                <p>
                                    After completing the ECHO command, this task was relatively straightforward. My approach was to call <strong><em>robot_cmd.get_next_value()</em></strong> three times to retrieve the three floating-point numbers sent from the PC and then print them using <strong><em>Serial.print()</em></strong>.
                                </p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                    
                                    <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T2ACR.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 400px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T2JR.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                
                                
                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task3: GET_TIME_MILLIS</h4>
                                <p>
                                    In Task 3, the main goal was to add the GET_TIME_MILLIS command, which makes the robot respond with a string containing the current time in milliseconds and write it to the string characteristic.
                                    This task was very similar to the <strong><em>PONG command</em></strong> and was primarily designed to help us get familiar with the <strong><em>millis() function.</em></strong>  
                                </p>
                                <p>
                                    One small issue I encountered was forgetting to perform explicit type conversion. The function tx_estring_value.append only accepts int, float, double, or string, but millis() returns an unsigned long int. As a result, directly uploading the code caused the following error.
                                </p>
                                <div class="container my-4">
                                    <div class="row g-4 justify-content-center">
                                      <!-- 在中等及以上屏幕占 8/12，居中显示 -->
                                      <div class="col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                          <img src="assets/img/lab1/lab1b/T3E.png" 
                                               class="img-fluid rounded" 
                                               style="width: 100%; height: auto; object-fit: contain;">
                                        </div>
                                      </div>
                                    </div>
                                </div>   
                                <p>
                                    The issue was resolved by explicitly casting millis() to an int before appending it to tx_estring_value.
                                </p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                    
                                    <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T3AR.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 400px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T3JR.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                    </div>
                                </div>

                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task4: Notification Handler</h4>
                                <p>
                                    The main task in Task 4 was to write a notification handler in Python to receive the string value from the Artemis board and extract the timestamp from the received content.
                                    This task helped me become familiar with <strong><em>ble.bytearray_to_string()</em></strong>  and deepened my understanding of <strong>UUIDs and how data is stored and transmitted between the PC and Artemis</strong>.
                                </p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                    
                                    <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T4AR.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 400px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T4JR.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                    </div>
                                </div>


                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task5: Loop and transfer rate</h4>
                                <p>
                                    In Task 5, I wrote a loop to continuously obtain the current time in milliseconds and send it to the computer.

                                    As shown in the results below, 68 timestamps were sent to the PC in 2 seconds, meaning the transmission speed was 34 timestamps per second.

                                    Since each timestamp contains 7 bytes, the data transfer rate was approximately <strong>238 bytes per second.</strong> 
                                </p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                                            <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T5JR1.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 400px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T5JR2.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                <div class="container my-4">
                                    <div class="row g-4 justify-content-center">
                                      <!-- 在中等及以上屏幕占 8/12，居中显示 -->
                                      <div class="col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                          <img src="assets/img/lab1/lab1b/T5AR.png" 
                                               class="img-fluid rounded" 
                                               style="width: 100%; height: auto; object-fit: contain;">
                                        </div>
                                      </div>
                                    </div>
                                </div>  
                            

                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task6: Store Time Stamps Array</h4>
                                <p>
                                    In Task 6, I defined a constant <strong><em>array_size</em></strong> with a value of 100 to set the size of an array for storing timestamps.

                                    I then sent the entire array back to the computer and printed the timestamps in Jupyter Notebook to verify that they were indeed stored in the array.
                                </p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                                            <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T6JR.png"
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 400px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T6AR.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                    </div>
                                </div>



                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task7: GET_TEMP_READINGS command</h4>
                                <p>
                                   
                                    Task 7 was very similar to Task 6.

                                    I added another array of the same size to store temperature readings. Using the GET_TEMP_READINGS command, I stored both timestamps and temperature values.

                                    Finally, I sent both arrays back to the computer and paired each temperature reading with its corresponding timestamp.
                                </p>

                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                                            <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T7JR1.png"
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 400px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-6 col-md-6">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab1/lab1b/T7JR2.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                    </div>
                                </div>
                                <div class="container my-4">
                                    <div class="row g-4 justify-content-center">
                                      <!-- 在中等及以上屏幕占 8/12，居中显示 -->
                                      <div class="col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                          <img src="assets/img/lab1/lab1b/T7AR.png" 
                                               class="img-fluid rounded" 
                                               style="width: 100%; height: auto; object-fit: contain;">
                                        </div>
                                      </div>
                                    </div>
                                </div>  


                                <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                                <h4 class="text-center mb-4">Task8: Discussion</h4>
                            <p>
                                In the tasks above, we have two approaches:
                            </p>
                            
                            <ul>
                               <li>Real-time transmission of timestamps</li> 
                               <li>Batch storage + transmission</li> 
                            </ul>
                            <p>
                                Method 1 Real-time Transmission of Timestamps:
                                    This method is suitable for applications that require low latency, such as real-time monitoring. The advantage is that data is immediately transmitted to the computer, but it may be limited by BLE transmission speed. Frequent transmission of small data packets can lead to packet loss or higher power consumption.
                            </p>
                            <p>
                                Method 2 Batch Storage + Transmission:
                                    This method is better suited for large-scale data collection, such as experimental data recording. It first stores data in memory and then transmits it all at once, which improves transmission efficiency and reduces BLE connection overhead. However, its disadvantages include increased storage management complexity and the inability to access data in real time.  
                            </p>
                                <p>
                                    Data Recording Speed Comparison
                                    With an ideal BLE transmission speed of approximately 1 Mbps, Method 2 can record timestamps and temperature readings at a maximum rate of about 7,812 data points per second.
                                    
                                    If storing data in Artemis's RAM, which has only 384 KB, and assuming 16 bytes per data point, it can store approximately 24,576 data points before requiring transmission.
                                </p>


                            <hr style="border: none; border-top: 2px dashed #666; margin: 2rem 0;" />
                            <h4 class="text-center mb-4">5000 Level Additional Task</h4>
                            <h5>Effective Data Rate And Overhead:</h5>
                            <p>
                                In this task, I implemented the <strong><em>Effective_Data_Rate function</em></strong> to measure the Round-Trip Time (RTT) for different message sizes.
                            </p>
                            <p>
                              The results are as follows:  
                            </p>    
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                                        <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/ATA.png"
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 400px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/ATJ.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                </div>
                            </div>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                  <!-- 在中等及以上屏幕占 8/12，居中显示 -->
                                  <div class="col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                      <img src="assets/img/lab1/lab1b/output.png" 
                                           class="img-fluid rounded" 
                                           style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                  </div>
                                </div>
                            </div>  
                            
                            <p>
                                We can see that message size and RTT have a proportional relationship—as the message size increases, it takes more time to send the data back to the PC. This indicates that larger message sizes result in slower transmission speeds.
                            </p>

                            <h5>Reliability: </h5>
                            <p>
                                During the reliability stress test, when I set the message size to 480, I was unable to obtain an RTT, and the connection to Artemis was forcibly disconnected.
                                This indicates that if data is sent too quickly, it may overflow, causing some data to be dropped.
                            </p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                                        <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/ATA2.png"
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 400px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab1/lab1b/ATJ2.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                </div>
                            </div>
                            
                            <h2 class="text-center mb-4">Conclusion:</h2>
                            <p class="text-justify">
                                Through Lab 1, I bknow how to establish communication between the PC and the Artemis board.
                            </p>
                            <p>
                                Additionally, I learned how UUIDs and MAC addresses ensure the uniqueness of the Artemis board.
                            </p>
                            <p>
                                Most importantly, I gained insights into how data transmission size and speed affect response time, which will help me approach data transmission challenges more effectively in the future.
                            </p>

                        </div><!-- /container-fluid -->
                    </div><!-- /modal-body -->

                    <!-- Modal 底部 -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CLOSE</button>
                    </div>

                </div><!-- /modal-content -->
            </div><!-- /modal-dialog -->
        </div>

                <!-- Here is the code for LAB 2 report -->
        <div class="modal fade" id="lab2Modal" tabindex="-1" aria-labelledby="lab2ModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content border-0 shadow">

                    <!-- Modal 头部 -->
                    <div class="modal-header bg-light">
                        <h5 class="modal-title fw-bold" id="lab1ModalLabel">Lab 2 Report</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Modal 主体：通过 p-4 增加内边距，max-height: 80vh 和 overflow-y: auto 用于可滚动 -->
                    <div class="modal-body p-4" style="max-height: 80vh; overflow-y: auto;">

                        <!-- 可以在内部再包一层容器，便于统一排版 -->
                        <div class="container-fluid">

                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 2: IMU</h2>
                            <p class="text-justify">
                                The purpose of this Lab is to familiarize with the calculation and transmission of IMU-related data, specifically obtaining IMU data to compute roll, pitch, and yaw and transmitting it to a computer. Additionally, it aims to understand how to reduce noise interference in the final output.
                            </p>

                            
                            <hr class="my-4"/><!-- 分割线 -->
                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Setup the IMU</h2>
                            <p class="text-justify">
                            First, the Artemis board and IMU need to be properly connected, as shown in the diagram below.
                            </p>
                            <!-- 图片区容器 -->                       
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                    <!-- 让列占满全宽 -->
                                    <div class="col-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <!-- 去掉 max-height，改为 width: 100% -->
                                        <img src="assets/img/lab2/Artemis_IMU.png" 
                                            alt="Artemis and IMU" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <p>
                                Next, I installed the <strong>"SparkFun 9DOF IMU Breakout - ICM 20948 Arduino Library"</strong>  from the Arduino Library Manager and connected the IMU to the Artemis board using the QWIIC connector.
                            </p>
                            <p>
                                To verify if the IMU is working properly, I ran the example program located at: <em>..\Arduino\libraries\SparkFun_ICM-20948\SparkFun_ICM-20948_ArduinoLibrary-master\examples\Arduino\Example1_Basics.</em> 
                            </p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                  <iframe
                                    src="https://www.youtube.com/embed/hFzSHC5e2-M"
                                    title="YouTube video"
                                    allowfullscreen>
                                  </iframe>
                                </div>
                              </div>
                            
                            <p>
                                Also, I added code shown below so that the LED would blink three times slowly on start-up.
                            </p>

                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab2/Blink.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                              
                            <dt><em>Q: What does AD0_VAL represent, and should it be 0 or 1?</em></dt>
                            <dd>A: AD0_VAL is a configuration setting used to define the I²C address of the ICM-20948 IMU sensor. When I attempted to change AD0_VAL from 1 to 0, I found that I couldn't receive data from the IMU. After reviewing previous students' reports, I noticed that they had to change AD0_VAL from 1 to 0 to receive data.

                            I believe the reason for this issue is that this year we are using the SparkFun breakout board, which is different from the one used in previous years.</dd>



                            


                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Accelerometer</h2>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                  <iframe
                                    src="https://www.youtube.com/embed/_rIRA0efREY"
                                    title="YouTube video"
                                    allowfullscreen>
                                  </iframe>
                                </div>
                              </div>
                            <p>
                                The video above demonstrates how the roll and pitch values change when I place the IMU in a horizontal position and different vertical orientations.
                            </p>
                            <p>
                                I used <strong><em>myICM.dataReady()</em></strong> to check if the IMU data is ready and <strong><em>myICM.getAGMT()</em> </strong>to update the accelerometer values for the x, y, and z axes.
                            </p>

                            <p>
                                Then, I implemented the formulas shown in the classroom slides on Arduino to calculate the Roll and Pitch values.
                            </p>

                            
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/a_slide.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/a_slide_code.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                
                                </div>
                            </div>

                            <p>As shown in the video, the final output differs from the expected output. The table below illustrates this difference.</p>
                            <div class="table-responsive">
                                <table class="table table-bordered align-middle">
                                    <thead class="table-light">
                                        <tr>
                                            <th>Rotation</th>
                                            <th>90 (expected)</th>
                                            <th>0 (expected)</th>
                                            <th>-90 (expected)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Roll</td>
                                            <td>88.4 (final)</td>
                                            <td>-0.3 (final)</td>
                                            <td>-91.2 (final)</td>

                                        </tr>
                                        <tr>
                                            <td>Pitch</td>
                                            <td>87.6 (final)</td>
                                            <td>-0.8 (final)</td>
                                            <td>-88.7 (final)</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <p>To better observe roll and pitch, I added a new case, <strong><em>GET_Pitch_Roll</em></strong>, to the <strong>Lab 1 code</strong>. This allows the IMU to transmit data to my computer. Therefore, I collected 150 data points at a 50ms interval.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab2/a_RPShow.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>It can be observed that the data is not perfectly smooth and contains noise. To analyze the noise, I studied how to apply the Fourier Transform in Python by referring to the following resource:  
                            <a href="https://www.alphabold.com/fourier-transform-in-python-vibration-analysis/">Fourier Transform in Python - Vibration Analysis</a>. </p>

                            <p>Using this method, I obtained the following noise spectrum.</p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-4 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/noise_!.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-4 col-md-6">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/noise_2.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                
                                </div>
                            </div>
                            <p>From the two images above, I observed that the noise is mainly concentrated in the <strong>0~2 Hz</strong>range. Therefore, I selected <strong>2 Hz</strong> as the cutoff frequency.</p>
                            <p>Below is the Python code for implementing a low-pass filter and the result after applying the low-pass filter:</p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-4 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/low_pass.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-4 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/lowpass_result.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>

                            </div>
                            <p>It can be observed that after applying the low-pass filter, the data graph becomes much smoother and a amount of noise is reduced.</p>

                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Gyroscope</h2>

                            <p>For the <strong>gyroscope</strong>, the general approach is similar to that of the accelerometer. </p>

                            <p>First, based on the following calculation formulas, I added a new case, <strong>GET_PRY_Gyroscope</strong>, to the <strong>Lab 1</strong> code to compute <strong>roll, pitch, and yaw</strong> using the gyroscope.</p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-4 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/g_formula.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-4 col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab2/g_code.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            </div>

                                <p>As a result, I obtained the following output images:</p>
                                <div class="container my-4">
                                    <div class="row g-4 justify-content-center">
                                        <div class="col-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                            <img src="assets/img/lab2/g_ouput.png" 
                                                alt="blink" 
                                                class="img-fluid rounded" 
                                                style="width: 100%; height: auto; object-fit: contain;">
                                        </div>
                                        </div>
                                    </div>
                                </div>


                                <p>Then, I combined the <strong>Gyroscope</strong> and <strong>Accelerometer</strong> code to obtain a comparison graph of <strong>roll</strong> and <strong>pitch</strong> from both sensors. Also, I got the ouput of Yaw.</p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-3 justify-content-center">
                                    
                                        <!-- 第一张图片（Artemis Nano） -->
                                        <div class="col-sm-4 col-md-8">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/roll_c.png" 
                                                    alt="Artemis Nano" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>
                                    
                                        <!-- 第二张图片（Type-C Cables） -->
                                        <div class="col-sm-4 col-md-8">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/pitch_c.png"
                                                    alt="USB Type-C Cables" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>
                                
                                        <!-- 第三张图片 -->
                                        <div class="col-sm-4 col-md-8">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/yaw.png"
                                                    alt="USB Type-C Cables" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <p>It can be observed that the <strong>Accelerometer</strong> is more sensitive to noise compared to the <strong>Gyroscope</strong>. Even minor noise can cause significant fluctuations in the Accelerometer readings.</p>

                                <p>On the other hand, the <strong>Gyroscope</strong> tends to exhibit a continuous increase or decrease over time. This phenomenon is not very noticeable in the graph above because the dataset is relatively small and the time intervals are short.</p>

                                <p>However, in the following experiment on the <strong>complementary filter</strong>, this issue becomes more evident.</p>
                                <p>Based on the content from the classroom slides, I got the formula for the <strong>complementary filter</strong> and implemented it in the <strong>Arduino</strong> code.</p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                    
                                    <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-4 col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab2/C_formula.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-4 col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab2/C_filter_code.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                </div>

                                <p>The most important step was determining the value of <strong>alpha</strong>. I experimented with multiple alpha values and finally settled on <strong>0.7</strong>.</p>

                                <p>Below are the output graphs for <strong>alpha = 0.7</strong> and <strong>alpha = 0.2</strong>.</p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-3 justify-content-center">
                                    
                                        <!-- 第一张图片（Artemis Nano） -->
                                        <div class="col-sm-4 col-md-6">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/07pitch.png" 
                                                    alt="Artemis Nano" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>
                                    
                                        <!-- 第二张图片（Type-C Cables） -->
                                        <div class="col-sm-4 col-md-6">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/07roll.png"
                                                    alt="USB Type-C Cables" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>
                                
                                        <!-- 第三张图片 -->
                                        <div class="col-sm-4 col-md-6">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/02pitch.png"
                                                    alt="USB Type-C Cables" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>

                                        <div class="col-sm-4 col-md-6">
                                            <div class="p-2 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                                <img src="assets/img/lab2/02roll.png"
                                                    alt="USB Type-C Cables" 
                                                    class="img-fluid rounded" 
                                                    style="max-height: 250px; object-fit: contain; width: 100%;">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <p>From the graphs above, it can be observed that if the value of <strong>alpha</strong> is too low, the final result will overly rely on the <strong>Gyroscope</strong>, causing a continuous increase or decrease over time.</p>

                                <p>However, with <strong>alpha = 0.7</strong>, the filter effectively combines the advantages of both the <strong>Gyroscope</strong> and the <strong>Accelerometer</strong>, producing a more accurate and stable result. Therefore, <strong>alpha = 0.7</strong> is a better choice.</p>

                                <hr class="my-4"/>
                                <h2 class="text-center mb-4">Sample Data</h2>
                                <p>First, I commented out all <strong>Serial.print</strong> statements in the main loop to eliminate any delays they might cause.</p>

                                <p>As shown in the code snippet below, I used <strong>ActiveFlag</strong> as a marker to indicate the start of data recording. The function <strong>record_process()</strong> is responsible for transmitting the <strong>x-axis</strong> data from both the <strong>Gyroscope</strong> and <strong>Accelerometer</strong> to my PC.</p>

                                <p>Although this function could also transmit the previously computed <strong>roll, pitch, and yaw</strong>, this part of the lab primarily focuses on discussing data transmission methods and efficiency. Therefore, it has been simplified to only send the x-axis data of the <strong>Gyroscope</strong> and <strong>Accelerometer</strong>.</p>

                                <p>Additionally, I introduced the variable <strong>MissCase</strong> to detect instances where the IMU data is not ready.</p>

                                <div class="container my-4">
                                    <div class="row g-4 justify-content-center">
                                        <div class="col-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                            <img src="assets/img/lab2/loop_code.png" 
                                                alt="blink" 
                                                class="img-fluid rounded" 
                                                style="width: 100%; height: auto; object-fit: contain;">
                                        </div>
                                        </div>
                                    </div>
                                </div>

                                <p>As shown in the image below, I used <strong>case Loop_Start</strong> and <strong>case Loop_End</strong> to control the start and end of the loop.</p>

                                <p>Additionally, I configured the LED on the <strong>Artemis</strong> to remain <strong>lit</strong> while recording data and to <strong>blink three times</strong> upon completion. This visual indication helps me better determine the current state of the process.</p>
                                <div class="container my-4">
                                    <div class="row g-4 justify-content-center">
                                        <div class="col-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                            <img src="assets/img/lab2/case_code.png" 
                                                alt="blink" 
                                                class="img-fluid rounded" 
                                                style="width: 100%; height: auto; object-fit: contain;">
                                        </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mx-auto" style="max-width: 600px;">
                                    <div class="ratio ratio-16x9 mb-3">
                                      <iframe
                                        src="https://www.youtube.com/embed/wuxMkb15hlY"
                                        title="YouTube video"
                                        allowfullscreen>
                                      </iframe>
                                    </div>
                                </div>
                                <p>Using the code shown in the image below, I collected data over a period of <strong>5 seconds</strong>.</p>

                                <p>During this time, I recorded <strong>1,131 samples</strong>, and the value of <strong>MissCase</strong> was <strong>0</strong>. This indicates that the <strong>IMU generates new data faster than the main loop executes</strong>.</p>
                                <div class="container my-4">
                                    <!-- 图片区容器 -->
                                    <div class="row g-4 justify-content-center">
                                    
                                    <!-- 第一张图片（Artemis Nano） -->
                                    <div class="col-sm-4 col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab2/loop_j_code.png" 
                                            alt="Artemis Nano" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                
                                    <!-- 第二张图片（Type-C Cables） -->
                                    <div class="col-sm-4 col-md-8">
                                        <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab2/loop_output.png"
                                            alt="USB Type-C Cables" 
                                            class="img-fluid rounded" 
                                            style="max-height: 200px; object-fit: contain;">
                                        </div>
                                    </div>
                                </div>

                        <hr class="my-4"/>
                        <h2 class="text-center mb-4">Record a stunt!</h2>
                        <p>I originally hoped that the car would <strong>dash onto the cardboard and perform a cool backflip</strong>, but that didn’t quite work out.</p>

                        <p>However, the <strong>high-speed spin</strong> was still a pretty awesome stunt!</p>
                        <div class="mx-auto" style="max-width: 600px;">
                            <div class="ratio ratio-16x9 mb-3">
                              <iframe
                                src="https://www.youtube.com/embed/_Qolb9cZdKE"
                                title="YouTube video"
                                allowfullscreen>
                              </iframe>
                            </div>
                        </div> 
                        <hr class="my-4"/>
                        <h2 class="text-center mb-4">Conclusion:</h2>
                        <p class="text-justify">
                            <p>In this lab, I learned how to obtain data from the <strong>accelerometer</strong> and <strong>gyroscope</strong> and calculate the corresponding <strong>roll</strong>, <strong>pitch</strong>, and <strong>yaw</strong>.</p>

                            <p>More importantly, I learned to use the <strong>low-pass filter</strong> and <strong>complementary filter</strong> to obtain reliable data. This prepares me for ensuring accurate navigation of the car in future tasks.</p>
                            

                        </div><!-- /container-fluid -->
                    </div><!-- /modal-body -->

                    <!-- Modal 底部 -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CLOSE</button>
                    </div>

                </div><!-- /modal-content -->
            </div><!-- /modal-dialog -->
        </div>
    </div>
        </div> <!-- end container-fluid -->
        </div> <!-- end modal-body -->
        </div> 
        
                <!-- Here is the code for LAB 3 report -->       
        <div class="modal fade" id="lab3Modal" tabindex="-1" aria-labelledby="lab2ModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content border-0 shadow">

                    <!-- Modal 头部 -->
                    <div class="modal-header bg-light">
                        <h5 class="modal-title fw-bold" id="lab1ModalLabel">Lab 3 Time of Flight Sensors</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Modal 主体：通过 p-4 增加内边距，max-height: 80vh 和 overflow-y: auto 用于可滚动 -->
                    <div class="modal-body p-4" style="max-height: 80vh; overflow-y: auto;">

                        <!-- 可以在内部再包一层容器，便于统一排版 -->
                        <div class="container-fluid">

                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 3 Time of Flight Sensors</h2>
                            <h2>Objective</h2>
                            <p>The goal of this lab is to equip the robot with distance sensors. By optimizing the sampling speed and reliability of sensor readings, the robot can improve its driving performance.</p>
                            
                            <h2>Parts Required</h2>
                            <ul>
                                <li>1 × SparkFun RedBoard Artemis Nano</li>
                                <li>1 × USB cable</li>
                                <li>2 × 4m ToF sensors</li>
                                <li>1 × 9DOF IMU sensor</li>
                                <li>1 × QWIIC Breakout board</li>
                                <li>3 × Qwiic connectors</li>
                                <li>1 × 650mAh battery from the RC car</li>
                                <li>1 × Ruler or graph paper</li>
                                <li>1 × Wire strippers/ Mini cutters</li>
                                <li>1 × Soldering iron</li>

                            
                            <hr class="my-4"/><!-- 分割线 -->
                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Before Soldering</h2>
                            <h3 class="text-center mb-4">I2C ADDRESS</h3>
                            <p class="text-justify">
                            Following the information shown by the datasheet, the I2C sensor address should be 0x52. The detail is shown on the pic blow.
                            </p>
                            <!-- 图片区容器 -->                       
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                    <!-- 让列占满全宽 -->
                                    <div class="col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <!-- 去掉 max-height，改为 width: 100% -->
                                        <img src="assets/img/lab3/address.jpg" 
                                            alt="Artemis and IMU" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <h3 class="text-center mb-4">2 ToF sensors: How to use and Future Design Considerations</h3>
                            <h5>Using Two TOF Sensors:</h5>
                            <p>To use two TOF sensors simultaneously, I nedd to use XSHUT pin. By first disabling one sensor via the XSHUT pin, only one active sensor remains on the I²C bus. Then, an I²C command is used to assign a new address to this available sensor. After that, the other sensor is re-enabled (it still retains the default address at this point).</p>
                            <p>Now that the two sensors have different addresses, the host can communicate with both sensors separately, allowing them to be used simultaneously.</p>
                            <h5>Future Design Considerations</h5>
                            <p>After watching the 2024 Spring students' Lab 12 video, I noticed that our final autonomous driving experiment will take place on a flat surface without slopes, and the obstacles are not difficult-to-detect objects like tilted poles.</p>
                            <p>Therefore, my approach is to position one ToF sensor facing forward and the other facing backward to detect obstacles in both movement directions.</p>
                            <p>However, I will not simply place the two sensors directly at the front and rear of the car. Instead, I will tilt both sensors slightly at a 30-degree angle (the line connecting the two sensors forms a 30-degree angle with the car's central axis). This way, I can also achieve side obstacle detection.</p>

                            <h3 class="text-center mb-4">Last Step Before Soldering: Sketch of wiring diagram</h3>
                            <!-- 图片区容器 -->                       
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                    <!-- 让列占满全宽 -->
                                    <div class="col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <!-- 去掉 max-height，改为 width: 100% -->
                                        <img src="assets/img/lab3/connection.jpeg" 
                                            alt="Artemis and IMU" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            





                            


                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Soldering, Testing and Data Recording</h2>
                            <h3 class="text-center mb-4">Soldering</h3>
                            <p>First, I soldered all the parts according to the Sketch of the wiring diagram, as shown in the figure below.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/finalconnectnon.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <p>To prepare for future wireless connectivity, I also soldered the battery wires to the JST jumper.</p>

                            <p>Additionally, I tested whether the Artemis board could function properly with battery power alone by running the test code from Lab 1.</p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                  <iframe
                                    src="https://www.youtube.com/embed/EJFTL-81p44?si=Egw5MnnmGdrJLcy5"
                                    title="YouTube video"
                                    allowfullscreen>
                                  </iframe>
                                </div>
                            </div>
                            <p>From the video, it can be seen that the Artemis board continues to function normally with battery power alone.</p>
                            
                            
                            
                            
                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">Example1_wire_I2C</h3>
                            <p>In this section, I ran <code>Example1_wire_I2C</code> to check whether the I2C addresses matched my expectations. The results are shown in the figure below.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/addressscan.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>I noticed that the scanned I2C address was 0x29, which differs from the address (0x52) provided in the datasheet. Why is this?</p>

                            <p>The reason is that the datasheet provides an 8-bit address (including the read/write bit), while I²C scanning tools (such as <code>Example1_wire_I2C.ino</code>) typically use a 7-bit address.</p>

                            <p>The 8-bit address 0x52 corresponds to <code>0b1010010</code>. Removing the last bit (shifting right by one bit) results in <code>0b0101001</code>, which is 0x29. This explains why my scan detected 0x29.</p>
                           <hr class="my-4"/>
                            <h3 class="text-center mb-4">Different sensor mode and Discussion</h3>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/testphoto.jpg" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>In this section, since <code>.setDistanceModeMedium()</code> is only applicable to the Pololu VL53L1X library, I chose to test two modes: <code>setDistanceModeShort();</code> and <code>setDistanceModeLong();</code>.</p>
                            <p>I also visualized the obtained data to analyze the differences between these two modes.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/modedata.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>According to the data, within 1.15 meters, both modes exhibit nearly identical accuracy. However, beyond 1.2 meters, <code>DistanceModeShort</code> shows significant errors.</p>

                            <p>I believe this may be partially related to the measurement environment. Since the measurements were conducted in a dimly lit room at night, the lack of light could have contributed to the errors in the <code>DistanceModeShort</code> mode.</p>

                            <p>This indirectly confirms that the sensor is somewhat sensitive to light intensity.</p>
                            <hr class="my-4"/>
                            
                            <h3 class="text-center mb-4">Let's make both sensors work simultaneously!</h3>
                            <p>As shown in the figure, I connected the XSHUT pin to pin A7 of the Artemis Board.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/pin.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <p>The following code demonstrates that by controlling the voltage level of the A7 pin, I successfully assigned a new address to the second sensor.</p>

                            <p>With this setup, both sensors can now operate simultaneously.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/code1.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                  <iframe
                                    src="https://www.youtube.com/embed/PZuErG0NutU?si=5taKsmizPEO1RqBO"
                                    title="YouTube video"
                                    allowfullscreen>
                                  </iframe>
                                </div>
                            </div>


                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">Bottleneck Testing</h3>
                            <p>To determine what limits the performance bottleneck of the ToF sensors, I made the following modifications to the code.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/Bottleneck.jpg" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>In the <code>setup()</code> function, I started the distance measurement using <code>distanceSensor0.startRanging();</code> and <code>distanceSensor1.startRanging();</code> without waiting for it to complete.</p>

                            <p>In the <code>loop()</code> function, I printed <code>millis()</code> in every iteration to measure the execution speed of the loop.</p>

                            <p>If the data is ready, the distance is read and printed.</p>

                            <p>If the data is not yet ready, it is skipped without blocking the main loop.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/BottleneckResult.jpg" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>From the output results, we can observe the following:</p>

                            <p>The <code>Time(ms)</code> value fluctuates between 30 and 50 ms, indicating that the <code>loop()</code> function runs approximately every 15-50 ms.</p>

                            <p>However, new sensor data is not available on every iteration. For example, at 38415 ms and 38627 ms, no new data was recorded.</p>

                            <p>This suggests that sensor data updates only every 30-50 ms.</p>

                            <p><strong>Therefore, the current bottleneck is the sensor's own ranging time.</strong></p>
                            
                            
                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">Recording ToF and IMU data for 10 seconds</h3>
                            <p>Based on the functions implemented in Lab 2, I created the function <code>GET_Pitch_Roll_Distance_10s</code>.</p>

                            <p>The primary function of this implementation is to simultaneously start two ToF sensors and the IMU, record data for 10 seconds, and transmit the collected data to my computer via Bluetooth. The following is a partial screenshot of the code: </p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab3/functioncode.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>Finally, I obtained a graph showing the relationship between ToF data and time, as well as a graph illustrating the relationship between IMU data and time.</p>
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                
                                <!-- 第一张图片（Artemis Nano） -->
                                <div class="col-sm-6 col-md-4">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab3/PRT.png" 
                                        alt="Artemis Nano" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            
                                <!-- 第二张图片（Type-C Cables） -->
                                <div class="col-sm-6 col-md-4">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                    <img src="assets/img/lab3/DST.png"
                                        alt="USB Type-C Cables" 
                                        class="img-fluid rounded" 
                                        style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                                
                                </div>
                            </div>


                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Additional tasks (5000 Level)</h2>
                            <h3 class="text-center mb-4">Discussion on the advantages and disadvantages of different distance sensors</h3>

                            <table border="1" cellspacing="0" cellpadding="5">
                                <tr>
                                    <th>Sensor Type</th>
                                    <th>Functionality</th>
                                    <th>Pros</th>
                                    <th>Cons</th>
                                </tr>
                                <tr>
                                    <td>Time-of-Flight (ToF) Sensor</td>
                                    <td>Measures the time taken for infrared light to travel to an object and reflect back to determine distance.</td>
                                    <td>
                                        <ul>
                                            <li>High accuracy</li>
                                            <li>Works well in varying lighting conditions</li>
                                            <li>Can measure long distances (up to several meters)</li>
                                        </ul>
                                    </td>
                                    <td>
                                        <ul>
                                            <li>More expensive compared to other IR sensors</li>
                                            <li>Performance may degrade on highly reflective or transparent surfaces</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Infrared Proximity Sensor</td>
                                    <td>Detects objects based on the intensity of reflected infrared light.</td>
                                    <td>
                                        <ul>
                                            <li>Low cost</li>
                                            <li>Fast response time</li>
                                            <li>Simple implementation</li>
                                        </ul>
                                    </td>
                                    <td>
                                        <ul>
                                            <li>Limited accuracy and range</li>
                                            <li>Performance affected by ambient light</li>
                                            <li>Cannot provide precise distance measurements</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Structured Light Sensor</td>
                                    <td>Projects an infrared pattern onto an object and analyzes the distortion to calculate depth.</td>
                                    <td>
                                        <ul>
                                            <li>Can capture 3D depth information</li>
                                            <li>More accurate than simple proximity sensors</li>
                                            <li>Used in facial recognition and object scanning</li>
                                        </ul>
                                    </td>
                                    <td>
                                        <ul>
                                            <li>Sensitive to ambient infrared light</li>
                                            <li>Limited effective range</li>
                                            <li>Computationally intensive</li>
                                        </ul>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Laser Range Finder (LIDAR)</td>
                                    <td>Uses a laser pulse and measures the time taken for it to return, similar to ToF but typically with higher precision.</td>
                                    <td>
                                        <ul>
                                            <li>Very accurate over long distances</li>
                                            <li>Works well in low-light conditions</li>
                                            <li>Commonly used in autonomous vehicles</li>
                                        </ul>
                                    </td>
                                    <td>
                                        <ul>
                                            <li>Expensive compared to other distance sensors</li>
                                            <li>May struggle with highly reflective or transparent surfaces</li>
                                            <li>Larger and more power-intensive</li>
                                        </ul>
                                    </td>
                                </tr>
                            </table>
                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">ToF sensors are sensitive to color and texture</h3>
                            <p>In this section, I collaborated with my classmate <a href="https://haixizhang.github.io/FastRobot/" target="_blank">@Zhang, Haixi</a> to test the sensor's performance under different conditions: a black box, a white box, and a transparent glass bottle.</p>

                            <p>The results are shown in the table below.</p>
                            <table border="1" cellspacing="0" cellpadding="5">
                                <tr>
                                    <th>Collected Data vs Expected Data (cm)</th>
                                    <th>1</th>
                                    <th>2</th>
                                    <th>5</th>
                                    <th>10</th>
                                    <th>15</th>
                                    <th>20</th>
                                    <th>25</th>
                                    <th>30</th>
                                </tr>
                                <tr>
                                    <td>Black Box</td>
                                    <td>1.8</td>
                                    <td>3.8</td>
                                    <td>5.3</td>
                                    <td>9.3</td>
                                    <td>14.1</td>
                                    <td>24.5</td>
                                    <td>27.5</td>
                                    <td>29.6</td>
                                </tr>
                                <tr>
                                    <td>White Box</td>
                                    <td>1.2</td>
                                    <td>2.5</td>
                                    <td>4.6</td>
                                    <td>10.2</td>
                                    <td>15.1</td>
                                    <td>20.4</td>
                                    <td>25.7</td>
                                    <td>30.7</td>
                                </tr>
                                <tr>
                                    <td>White Glass Bottle</td>
                                    <td>0.9</td>
                                    <td>1.8</td>
                                    <td>3.9</td>
                                    <td>9.8</td>
                                    <td>13.8</td>
                                    <td>19.1</td>
                                    <td>24.2</td>
                                    <td>29.3</td>
                                </tr>
                            </table>
                            <p>After conversation, we got those conclusions:</p>

                            <h4>1. Performance in the Black Box</h4>
                            <p>The ToF sensor shows relatively higher deviation in the black box, especially at shorter distances (e.g., at 1 cm, the measured distance is 1.8 cm instead of 1 cm). This is likely because black surfaces absorb more infrared light, reducing the amount of reflected light detected by the sensor. As the distance increases, the accuracy improves slightly, but errors remain noticeable.</p>

                            <h4>2. Performance in the White Box</h4>
                            <p>The white box results are more accurate compared to the black box. White surfaces reflect more infrared light, allowing the sensor to receive a stronger signal. At closer distances, the error is minimal, and even at longer distances, the measurements are quite close to the expected values.</p>

                            <h4>3. Performance with the White Glass Bottle</h4>
                            <p>The sensor's performance with the white glass bottle is slightly worse than the white box but better than the black box. Transparent or semi-transparent materials like glass can refract or scatter infrared light, leading to some inaccuracies. At close distances, the measured values are slightly lower than expected, possibly due to partial transmission of light through the material rather than full reflection.</p>

                            <h4>4. Overall Observations</h4>
                            <ul>
                                <li>The ToF sensor performs best with highly reflective surfaces like the white box.</li>
                                <li>Black surfaces reduce accuracy due to their absorption of infrared light.</li>
                                <li>Transparent materials like glass introduce some measurement errors due to light refraction and scattering.</li>
                                <li>At longer distances, all three materials show improved accuracy, suggesting that environmental factors impact shorter-range measurements more significantly.</li>
                            </ul>



                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Conclusion</h2>
                            <p>In this experiment, I learned how to use multiple sensors simultaneously on a single I2C bus and record data.</p>

                            <p>Additionally, I discovered that sensor performance varies under different lighting conditions and when detecting obstacles made of different materials.</p>

                            <p>This insight provides valuable guidance for my future autonomous driving experiments with the robot.</p>


                        </div><!-- /container-fluid -->
                    </div><!-- /modal-body -->

                    <!-- Modal 底部 -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CLOSE</button>
                    </div>

                </div><!-- /modal-content -->
            </div><!-- /modal-dialog -->
        </div>

                <!-- Here is the code for LAB 4 report -->
        <div class="modal fade" id="lab4Modal" tabindex="-1" aria-labelledby="lab2ModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content border-0 shadow">

                    <!-- Modal 头部 -->
                    <div class="modal-header bg-light">
                        <h5 class="modal-title fw-bold" id="lab1ModalLabel">Lab 4 Motors and Open Loop Control</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Modal 主体：通过 p-4 增加内边距，max-height: 80vh 和 overflow-y: auto 用于可滚动 -->
                    <div class="modal-body p-4" style="max-height: 80vh; overflow-y: auto;">

                        <!-- 可以在内部再包一层容器，便于统一排版 -->
                        <div class="container-fluid">

                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 4 Motors and Open Loop Control</h2>
                            <h2>Objective</h2>
                            <p>The goal of this lab is to transition from manual control to open-loop control for the car. By the end of this lab, your car should be able to follow a predefined sequence of movements using the Artemis board and two dual motor drivers. Ultimately, this experiment enables the car to achieve both straight-line motion and circular movement under the control of the Artemis board.</p>
                            
                            <h2>Parts Required</h2>
                            <ul>
                                <li>1 x SparkFun RedBoard Artemis Nano</li>
                                <li>1 x USB cable</li>
                                <li>1 x 9DOF IMU sensor</li>
                                <li>2 x 4m ToF sensor</li>
                                <li>1 x QWIIC Breakout board</li>
                                <li>2 x Qwiic connector</li>
                                <li>1 x JST2 connector + cable</li>
                                <li>1 x Force1 RC car</li>
                                <li>1 x Li-Ion 3.7V 850mAh battery</li>
                                <li>2 x Dual motor drivers</li>
                                <li>1 x Wire strippers / Mini cutters</li>
                                <li>1 x Soldering iron</li>
                                <li>1 x External power supply</li>
                                <li>1 x Oscilloscope</li>
                            </ul>
                            

                            
                            <hr class="my-4"/><!-- 分割线 -->
                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Before Soldering</h2>
                            <h3 class="text-center mb-4">Expected Connection Diagram</h3>
                            <p>The following image shows the expected connection diagram. I will perform the soldering based on this diagram.</p>

                            <!-- 图片区容器 -->                       
                            <div class="container my-4">
                                <!-- 图片区容器 -->
                                <div class="row g-4 justify-content-center">
                                    <!-- 让列占满全宽 -->
                                    <div class="col-md-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <!-- 去掉 max-height，改为 width: 100% -->
                                        <img src="assets/img/lab4/connectpic.jpeg" 
                                            alt="Artemis and IMU" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>As shown in the diagram, I will use A2, A3, A13, and A14 on the Artemis board as motor control pins. Additionally, I will use a 3.7V 850mAh Li-Ion battery to power both motor drivers.</p>  
                            <p>In Lab 3, I successfully powered the Artemis board using a 3.7V 650mAh battery. In this lab, I will continue using the same approach, allowing the Artemis board to operate without a USB power connection.</p>

                            <p><em><strong>Question: I was asked to power the Artemis and the motor drivers/motors from separate batteries. Why is that?</strong></em></p>
                            <p>The Artemis board and the motor drivers/motors should be powered by separate batteries to prevent electrical interference and voltage fluctuations. Motors typically draw a significant amount of current, which can cause sudden voltage drops and introduce noise into the power supply. If both the Artemis board and the motors share the same power source, these fluctuations could lead to instability in the Artemis board, causing unexpected behavior or even system resets. By using separate batteries, it ensure a more stable and reliable power supply for both the control system and the motors.</p>






                            


                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Lab Tasks</h2>
                            <h3 class="text-center mb-4">Oscilloscope and Signal Display</h3>
                            <p>First, I soldered the motor driver and the Artemis board according to the previously planned connection diagram. At this stage, I did not connect BOUT and AOUT to the motors. Instead, I connected them to the oscilloscope to observe whether there was any signal output. The results are shown in the video.</p>

                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/Ruuqfw7jzYw"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>Later, I realized that in the video, I had connected the oscilloscope's output and input ports incorrectly. As a result, although there was a signal output, it was not the expected rectangular waveform. The following image shows the correct signal waveform obtained after properly using the oscilloscope.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab4/Oscilloscope.jpg" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <p>Here is my test code</p>
<pre>
    <code>
    void setup() {
        pinMode(ABIN1, OUTPUT);
        pinMode(ABIN2, OUTPUT);
    }
    
    void loop() {
        analogWrite(ABIN1, 255);
        analogWrite(ABIN2, 0);
    }
    </code>
    </pre>

                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">Single Motor Testing</h3>
                            <p>After confirming that the signal was successfully output, I connected the motor driver to the motor and supplied power. The results are shown in the video.</p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/-M42pLoUfuo"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>Additionally, I conducted a speed variation test on a single motor. The code and video are shown below:</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab4/speedchangecode.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/opdCd6hKUWE"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>I observed that during the transition from rest to motion, the motor voltage was relatively high. I believe this is because the motor needs to overcome significant resistance when starting from a stationary state, leading to this effect.</p>
                            
                            
                            
                            
                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">Dual Motor Testing</h3>
                            <p>After successfully testing the operation of a single motor, I soldered all the parts together according to the planned connection diagram and conducted a dual motor operation test. The code and video are shown below.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab4/twomotor.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/WsRdcqc1WQM"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>From the video, it can be seen that the car can accelerate both forward and backward, indicating that all my circuit connections are correct!</p>  
                            <p>Next, I will use another battery to power the Artemis board and make the car run on the ground!</p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/5d2KVI9zj4M"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>From the video above, it can be seen that with two batteries powering the system, the car successfully runs. (However, setting the PWM value to 255 at the beginning was a bad idea—the car was so fast that it almost took off!)</p>
                            <p>The image below shows how I secured all the components.</p>
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab4/car.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>






                                



                            
                            
                            
                            
                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">The Lower Limit in PWM Value</h3>
                            <p>In this part of the experiment, I determined the minimum PWM values required to make the car move using the enumeration method. The results are:</p>  
                            <ul>
                                <li>Left side: 37</li>  
                                <li>Right side: 55</li>  
                            </ul>
                            <p>The following is a video showing the car in motion.</p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/jaKsRbJndrU"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>




                            <hr class="my-4"/>
                            <h3 class="text-center mb-4">Straight-Line Motion Test and Open-Loop Control Test</h3>
                            <p>In the previous experiments, I noticed that the right wheel had significantly less power than the left wheel. To achieve straight-line motion, I used the following PWM values in my first test:</p>  
                            <ul>
                                <li>Left wheel: 55</li>  
                                <li>Right wheel: 40</li>  
                            </ul>
                            <p>The results are shown in the video. The car exhibited a leftward drift.</p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/BAsGd1myEXs"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>After multiple attempts, I adjusted the PWM values as follows and successfully achieved straight-line motion:</p>  
                            <ul>
                                <li>Left wheel: 65</li>  
                                <li>Right wheel: 43</li>  
                            </ul>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/7jxR7sNOMfM"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>
                            <p>From the video, it can be seen that the car is able to travel in a straight line for a distance of more than 2 meters.</p>
                            <p>Next, I conducted an open-loop test on the car, making it move forward, backward, and perform left and right turns. To my surprise, in order for the car to turn in place, I had to set the PWM value to at least 120. This indicates that the car needs to overcome significant friction when turning.</p>

                            <p>I believe this is due to the car's tires being very rough and having deep treads, which create a high amount of friction against the ground. Therefore, in future labs, I might wrap the car's tires with smooth tape to reduce friction.</p>
                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/_Z-NaFkoqo8"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>




                            
                             

                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Additional tasks (5000 Level)</h2>
                            <h3 class="text-center mb-4">Discussion on analogWrite Frequency</h3>
                            <p>Returning to the video below, it can be observed that the frequency of the signal generated by <code>analogWrite</code> is quite high, reaching nearly 190Hz.</p>  

                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/-M42pLoUfuo"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>

                            <p>However, we need to consider potential bottlenecks. If this frequency is lower than the data transmission frequency of the IMU or other sensors, manually setting a higher frequency may become necessary.</p>
                            <h3 class="text-center mb-4">minimum PWM value</h3>
                            <p>The following code represents my approach to finding the minimum PWM value for maintaining motion:</p>  
                            <div class="container my-4">
                                <div class="row g-4 justify-content-center">
                                    <div class="col-8">
                                    <div class="p-3 border rounded shadow-sm bg-white h-100 d-flex align-items-center justify-content-center">
                                        <img src="assets/img/lab4/5000.png" 
                                            alt="blink" 
                                            class="img-fluid rounded" 
                                            style="width: 100%; height: auto; object-fit: contain;">
                                    </div>
                                    </div>
                                </div>
                            </div>

                            <p>Based on previous experiments, I determined the PWM values required to start the car from a stationary state:</p>  
                            <ul>
                                <li>Left wheel: 55</li>  
                                <li>Right wheel: 40</li>  
                            </ul>

                            <p>Next, I used a <code>for</code> loop to decrease the PWM value by 2 every 2 seconds until it reached 0. During this process, I observed when the car stopped moving and recorded the time at which it stopped. This allowed me to calculate the minimum PWM value required to sustain motion.</p>

                            <div class="mx-auto" style="max-width: 600px;">
                                <div class="ratio ratio-16x9 mb-3">
                                    <iframe
                                    src="https://www.youtube.com/embed/wuWPG1GR3xo"
                                    title="YouTube video"
                                    allowfullscreen>
                                    </iframe>
                                </div>
                            </div>

                            <p>Finally, I determined that the minimum PWM value required to sustain motion is 36 - 38.</p>








                            <hr class="my-4"/>
                            <h2 class="text-center mb-4">Conclusion</h2>
                            <p>In this lab, I successfully assembled the car. Additionally, this lab made me think about factors that influence the car's eventual "autonomous driving," such as tire friction and the data transmission frequency of different components.</p>  

                            <p>What I found most interesting was that, as a CS major during my undergraduate studies, I had never done so much soldering before. This lab significantly improved my hands-on skills and allowed me to appreciate the beauty of hardware. When the car successfully moved after assembly and soldering, I felt an incredible sense of accomplishment.</p>
                            


                        </div><!-- /container-fluid -->
                    </div><!-- /modal-body -->

                    <!-- Modal 底部 -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CLOSE</button>
                    </div>

                </div><!-- /modal-content -->
            </div><!-- /modal-dialog -->
        </div>

        <!-- 使用Bootstrap 5.x为例 -->
        <div class="modal fade" id="labModal" tabindex="-1" aria-labelledby="lab1ModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered">
                <div class="modal-content border-0 shadow">

                    <!-- Modal 头部 -->
                    <div class="modal-header bg-light">
                        <h5 class="modal-title fw-bold" id="lab1ModalLabel">Lab 1 Report</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- Modal 主体：通过 p-4 增加内边距，max-height: 80vh 和 overflow-y: auto 用于可滚动 -->
                    <div class="modal-body p-4" style="max-height: 80vh; overflow-y: auto;">

                        <!-- 可以在内部再包一层容器，便于统一排版 -->
                        <div class="container-fluid">

                            <!-- 第一节：简介 -->
                            <h2 class="text-center mb-4">Lab 1A: The Artemis board and Bluetooth</h2>
                            <p class="text-justify">
                                The main goal of LAB 1A is to set up and familiarize myself with the Arduino IDE and the Artemis development board.
                            </p>
                            <p class="text-justify">
                                In <strong>Lab 1A</strong>, I programmed the development board, experimented with controlling the onboard LED, read and wrote serial messages via USB, and utilized the onboard temperature sensor and pulse density microphone. Additionally, I completed the additional tasks for 5000-level students.
                            </p>

                            <!-- 图片示例区域 -->
                            <div class="my-4 p-3 border rounded bg-light">
                                <div class="row g-3 justify-content-center">
                                    <div class="col-md-4">
                                        <img src="assets/img/lab1/ArtemisNano.png"
                                            alt="Artemis Nano" 
                                            class="img-fluid mb-3 rounded shadow"/>
                                    </div>
                                    <div class="col-md-4">
                                        <img src="assets/img/lab1/USB.png" 
                                            alt="USB" 
                                            class="img-fluid mb-3 rounded shadow"/>
                                    </div>
                                </div>
                                <p class="text-center mb-0">
                                    上图展示了实验平台的初步搭建情况。可以看到核心处理器、动力驱动以及基本传感器都已安装完毕。
                                </p>
                            </div>

                            <hr class="my-4"/><!-- 分割线 -->

                            <!-- 第二节：硬件介绍 -->
                            <h2>2. 硬件系统 (Hardware Overview)</h2>
                            <p>
                                实验使用了以下硬件设备：
                            </p>
                            <ul>
                                <li>微控制器 (MCU)：STM32F4 Discovery 或相同级别嵌入式开发板</li>
                                <li>传感器：IMU（陀螺仪+加速度计）、超声波测距模块等</li>
                                <li>电机 & 驱动器：高速无刷电机 + 驱动板</li>
                                <li>电源系统：电池、稳压模块</li>
                            </ul>

                            <p>
                                以下是一张表格示例，用来列出关键硬件参数（仅作为示例）：
                            </p>

                            <!-- 表格示例 -->
                            <div class="table-responsive">
                                <table class="table table-bordered align-middle">
                                    <thead class="table-light">
                                        <tr>
                                            <th>硬件名称</th>
                                            <th>型号</th>
                                            <th>主要参数</th>
                                            <th>备注</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>MCU</td>
                                            <td>STM32F407</td>
                                            <td>168 MHz CPU, 1 MB Flash, 192 KB SRAM</td>
                                            <td>主控核心</td>
                                        </tr>
                                        <tr>
                                            <td>IMU</td>
                                            <td>MPU-6050</td>
                                            <td>3轴加速度计 + 3轴陀螺仪</td>
                                            <td>I2C 接口</td>
                                        </tr>
                                        <tr>
                                            <td>电机</td>
                                            <td>BLDC-2205</td>
                                            <td>KV = 2300, 3 相无刷</td>
                                            <td>驱动轮</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <hr class="my-4"/><!-- 分割线 -->

                            <!-- 第三节：软件流程 (Software Flow) -->
                            <h2>3. 软件流程 (Software Flow)</h2>
                            <p>
                                控制流程可以分为初始化、传感器读取、控制算法和输出执行四部分。下图是流程图示意：
                            </p>
                            <img src="assets/img/software_flow.png" alt="Software Flow Diagram" class="img-fluid d-block mx-auto mb-3"/>
                            <p>
                                - 初始化：设置串口、I2C、PWM 等外设  
                                - 读取传感器：定时查询 IMU 和距离传感器  
                                - 控制算法：根据期望速度或姿态，计算电机输出  
                                - 输出执行：通过 PWM 信号给电机驱动器
                            </p>

                            <hr class="my-4"/><!-- 分割线 -->

                            <!-- 第四节：实验过程与视频演示 -->
                            <h2>4. 实验过程与视频演示</h2>
                            <p>
                                在本实验中，我们进行了多次测试，包括速度提升测试、转弯半径测试等。以下是嵌入的 YouTube 视频演示（示例链接）：
                            </p>

                            <!-- YouTube 视频 iframe 示例 -->
                            <div class="ratio ratio-16x9 mb-3">
                                <iframe 
                                    src="https://www.youtube.com/embed/VIDEO_ID" 
                                    title="YouTube video" 
                                    allowfullscreen>
                                </iframe>
                            </div>

                            <p>
                                如果你想嵌入 Google Drive 视频，也可以使用类似的方式（以下示例）：
                            </p>

                            <!-- Google Drive 视频 iframe 示例 (需有效 FILE_ID) -->
                            <div class="ratio ratio-16x9 mb-3">
                                <iframe 
                                    src="https://drive.google.com/file/d/FILE_ID/preview" 
                                    allow="autoplay"
                                    allowfullscreen>
                                </iframe>
                            </div>

                            <p>
                                我们在测试过程中发现，当速度超过一定阈值时，传感器读数与控制输出之间的时延开始对系统稳定性产生显著影响，具体表现为车身抖动和轨迹偏移。通过在中断中优先处理 IMU 数据，并适当增大控制循环频率，可以在一定程度上减轻此影响。
                            </p>
                            <p>
                                <strong>安全注意事项：</strong> 在高速测试时，必须保证周围无障碍物或其他人员干扰，并且为车辆加装保护框，防止意外碰撞。
                            </p>

                            <hr class="my-4"/><!-- 分割线 -->

                            <!-- 第五节：结果分析 (Results & Analysis) -->
                            <h2>5. 结果分析 (Results & Analysis)</h2>
                            <p>
                                从实验结果来看，系统在高速下依然可以保持较好的姿态控制，但精确的速度控制会受到传感器噪声和环境因素影响。下面列出一些关键指标：
                            </p>
                            <ul>
                                <li>最大稳定速度：3.5 m/s</li>
                                <li>转弯半径最小值：1.2 m</li>
                                <li>控制延迟：平均 5 ms</li>
                                <li>IMU 测量频率：200 Hz</li>
                            </ul>

                            <hr class="my-4"/><!-- 分割线 -->

                            <!-- 第六节：结论与未来工作 -->
                            <h2>6. 结论 (Conclusion & Future Work)</h2>
                            <p>
                                根据以上测试，我们得出如下结论：
                            </p>
                            <ol>
                                <li>高速状态下的实时传感器读取与低延迟执行是保证稳定控制的关键；</li>
                                <li>对噪声的滤波和预测性控制算法对于减缓轨迹抖动非常重要；</li>
                                <li>优化硬件布线和延迟可以显著改善控制性能。</li>
                            </ol>
                            <p>
                                <strong>未来工作（Future Work）：</strong>
                            </p>
                            <ul>
                                <li>集成更高精度的定位系统（例如视觉SLAM 或激光雷达）；</li>
                                <li>进一步优化控制算法，如模型预测控制（MPC）或强化学习；</li>
                                <li>在真实复杂场景下进行更广泛的速度与环境测试。</li>
                            </ul>

                            <hr class="my-4"/><!-- 分割线 -->

                            <!-- 第七节：参考文献 -->
                            <h2>7. 参考文献 (References)</h2>
                            <p>
                                [1] Fast Robots Course Material, Cornell University (2025) <br/>
                                [2] 《现代控制理论与应用》, 某某出版社, 2022 <br/>
                                [3] <a href="https://github.com/xyz/fast-robot-resources" target="_blank">GitHub: fast-robot-resources</a>
                            </p>
                            
                        </div><!-- /container-fluid -->
                    </div><!-- /modal-body -->

                    <!-- Modal 底部 -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">CLOSE</button>
                    </div>

                </div><!-- /modal-content -->
            </div><!-- /modal-dialog -->
        </div><!-- /modal -->


  
        </section>
        <!-- Footer-->
        <footer class="bg-light py-5">
            <div class="container px-4 px-lg-5 text-center">
              <small class="text-muted">
                Powered by 
                <a href="https://startbootstrap.com/theme/creative" target="_blank">Start Bootstrap - Creative</a>
              </small>
            </div>
          </footer>     
          

          
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- SimpleLightbox plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/SimpleLightbox/2.1.0/simpleLightbox.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>

    </body>
</html>
